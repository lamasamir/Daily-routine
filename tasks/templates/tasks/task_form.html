<!-- tasks/templates/tasks/task_form.html -->
{% extends 'base.html' %}
{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="form-container">
    <h2>{{ title }}</h2>
    
    {% if task and title == 'Delete Task' %}
        <div class="delete-confirmation">
            <p>Are you sure you want to delete this task?</p>
            <p><strong>{{ task.title }}</strong> ({{ task.date|date:"M d, Y" }})</p>
            <form method="post">
                {% csrf_token %}
                <button type="submit" class="btn btn-delete">Delete</button>
                <a href="{% url 'task_list' %}" class="btn btn-cancel">Cancel</a>
            </form>
        </div>
    {% else %}
        <form method="post" class="task-form">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}">Task Title:</label>
                {{ form.title }}
                {% if form.title.errors %}
                    <div class="error">{{ form.title.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.date.id_for_label }}">Date:</label>
                {{ form.date }}
                {% if form.date.errors %}
                    <div class="error">{{ form.date.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-submit">
                    {% if title == 'Add Task' %}Add Task{% else %}Save Changes{% endif %}
                </button>
                <a href="{% url 'task_list' %}" class="btn btn-cancel">Cancel</a>
            </div>
        </form>
    {% endif %}
</div>
{% endblock %}